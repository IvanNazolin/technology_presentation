import React, { useEffect } from "react";
import "./styles.css";

// Данные о ретро-технологиях
const retroTech = [
  {
    id: "cassette",
    title: "Кассетные магнитофоны",
    description: `Кассетные магнитофоны использовали магнитные ленты в пластиковых кассетах для записи и воспроизведения звука. 
    Можно было записывать музыку, радиопередачи, интервью, а также делать личные записи. Кассеты были компактными, их можно было перезаписывать, создавая собственные музыкальные коллекции. 
    Особенно популярны были плееры типа Walkman, которые позволяли слушать музыку в пути.`,
    popularity: "С 70-х до 90-х годов кассеты были везде: дома, в автомобилях, на работе.",
    advantages: ["Легкость в использовании", "Возможность записи собственных миксов", "Портативность"],
    issues: ["Ограниченная ёмкость записи", "Качество звука ухудшается со временем"],
  },
  {
    id: "pager",
    title: "Пейджеры",
    description: `Пейджеры были карманными устройствами для получения коротких текстовых сообщений или сигналов. 
    Их основная функция – уведомление владельца о необходимости перезвонить или получение кратких сообщений.`,
    popularity: "С конца 80-х до начала 2000-х использовались в бизнесе и медицине.",
    advantages: ["Быстрое получение уведомлений", "Компактность", "Надежность сигнала"],
    issues: ["Только текстовые сообщения", "Невозможность совершать звонки"],
  },
  {
    id: "phone",
    title: "Кнопочные телефоны",
    description: `Кнопочные мобильные телефоны имели физические клавиши для набора номера и минимальные функции: звонки, SMS, будильник. 
    Они работали на аналоговых и цифровых сетях и были довольно громоздкими.`,
    popularity: "С 90-х годов до начала 2000-х были основным средством связи.",
    advantages: ["Долгая работа от аккумулятора", "Простота использования", "Доступная цена"],
    issues: ["Отсутствие интернета", "Ограниченные функции"],
  },
  // Новый объект для телевизоров с кинескопом
  {
    id: "crt_tv",
    title: "Телевизоры с кинескопом",
    description: `Телевизоры с кинескопом (или CRT-телевизоры) использовали вакуумные трубки для отображения изображения. Эти телевизоры были громоздкими и тяжелыми, но обеспечивали хорошее качество изображения в свое время. 
    Они работали по принципу разложения изображения на пиксели с помощью электронного пучка, который воздействовал на люминесцентные фосфорные экраны.`,
    popularity: "Телевизоры с кинескопом были популярны с 1950-х до начала 2000-х годов.",
    advantages: ["Хорошее качество изображения для своего времени", "Долговечность", "Широкий выбор моделей"],
    issues: ["Большие размеры и вес", "Низкое разрешение по сравнению с современными телевизорами", "Большое потребление энергии"],
  }
];


// Компонент для отображения одной секции
const TechSection = ({ title, description, popularity, advantages, issues, img }) => {
  return (
    <section className="tech-section">
      <h2>{title}</h2>
      <p>{description}</p>
      <p><strong>Популярность:</strong> {popularity}</p>
      <h3>Преимущества:</h3>
      <ul>{advantages.map((adv, index) => <li key={index}>{adv}</li>)}</ul>
      <h3>Проблемы:</h3>
      <ul>{issues.map((issue, index) => <li key={index}>{issue}</li>)}</ul>
      <div className="image-container">

      </div>
    </section>
  );
};

// Таблица ретро-технологий
const TechTable = () => {
  return (
    <div className="table-container">
      <h2>Сравнение технологий</h2>
      <table>
        <thead>
          <tr>
            <th>Технология</th>
            <th>Как это работало</th>
            <th>Популярность</th>
            <th>Преимущества</th>
            <th>Проблемы</th>
            <th>Что заменило</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Кассетные магнитофоны</td>
            <td>Запись и воспроизведение звука на магнитной ленте.</td>
            <td>70-90-е годы</td>
            <td>Компактность, возможность записи миксов.</td>
            <td>Ограниченная ёмкость, ухудшение качества со временем.</td>
            <td>CD, MP3, стриминг</td>
          </tr>
          <tr>
            <td>Пейджеры</td>
            <td>Приём коротких текстовых сообщений.</td>
            <td>80-90-е годы</td>
            <td>Компактность, надёжность сигнала.</td>
            <td>Ограниченные функции (только текст).</td>
            <td>Мобильные телефоны</td>
          </tr>
          <tr>
            <td>Кнопочные телефоны</td>
            <td>Телефоны с физическими кнопками, без интернета.</td>
            <td>90-е - 2000-е</td>
            <td>Долгое время работы, простота.</td>
            <td>Ограниченные функции.</td>
            <td>Смартфоны</td>
          </tr>
          {/* Строка для телевизоров с кинескопом */}
          <tr>
            <td>Телевизоры с кинескопом</td>
            <td>Использование вакуумных трубок для отображения изображения на экране.</td>
            <td>1950-е - 2000-е годы</td>
            <td>Хорошее качество изображения для своего времени, долговечность.</td>
            <td>Большие размеры и вес, низкое разрешение, высокое потребление энергии.</td>
            <td>Плазменные и LED телевизоры</td>
          </tr>
        </tbody>
      </table>
    </div>
  );
};


// Основной компонент приложения
function App() {
  useEffect(() => {
    const sections = document.querySelectorAll(".tech-section");

    const revealOnScroll = () => {
      sections.forEach((section) => {
        const rect = section.getBoundingClientRect();
        if (rect.top < window.innerHeight - 100) {
          section.classList.add("visible");
        }
      });
    };

    window.addEventListener("scroll", revealOnScroll);
    revealOnScroll();

    return () => window.removeEventListener("scroll", revealOnScroll);
  }, []);

  return (
    <div>
      <header>
        <h1>Ретро Технологии</h1>
        <p>Сайт, посвящённый технологиям прошлого века</p>
      </header>

      {retroTech.map((tech) => (
        <TechSection key={tech.id} {...tech} />
      ))}

      <TechTable />

    </div>
  );
}

export default App;
